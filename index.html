<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Scroll</title>
    <style>
        virtual-scroll {
            display: block;
            height: 300px; /* Set the height for the scrolling area */
            overflow-y: auto;
        }

        div {
            height: 300px;
        }

        .test {
            height: 100px;
        }
    </style>
</head>
<body>
<virtual-scroll>
    <div>Item 1</div>
    <div>Item 2</div>
    <div>Item 3</div>
    <div>Item 4</div>
    <div>Item 5</div>
    <div>Item 6</div>
    <div>Item 7</div>
    <div>Item 8</div>
    <div>text1</div>
    <div>text2</div>
    <div>text3</div>
    <div>text4</div>
    <div>text5</div>
    <div>text6</div>
    <div>text7</div>
    <div>text8</div>
    <div>text9</div>
    <div>text10</div>
    <div>text11</div>
    <div>text12</div>
    <div>text13</div>
    <div>text14</div>
    <div>text15</div>
    <div>text16</div>
    <div>text17</div>
    <div>text18</div>
    <div>text19</div>
    <div>text20</div>
    <div>text21</div>
    <div>text22</div>
    <div>text23</div>
    <div>text24</div>
    <div>text25</div>
    <div>text26</div>
    <div>text27</div>
    <div>text28</div>
    <div>text29</div>
    <div>text30</div>
    <div>text31</div>
    <div>text32</div>
    <div>text33</div>
    <div>text34</div>
    <div>text35</div>
    <div>text36</div>
    <div>text37</div>
    <div>text38</div>
    <div>text39</div>
    <div>text40</div>
    <div>text41</div>
    <div>text42</div>
    <div>text43</div>
    <div>text44</div>
    <div>text45</div>
    <div>text46</div>
    <div>text47</div>
    <div>text48</div>
    <div>text49</div>
    <div>text50</div>
    <div>text51</div>
    <div>text52</div>
    <div>text53</div>
    <div>text54</div>
    <div>text55</div>
    <div>text56</div>
    <div>text57</div>
    <div>text58</div>
    <div>text59</div>
    <div>text60</div>
    <div>text61</div>
    <div>text62</div>
    <div>text63</div>
    <div>text64</div>
    <div>text65</div>
    <div>text66</div>
    <div>text67</div>
    <div>text68</div>
    <div>text69</div>
    <div>text70</div>
    <div>text71</div>
    <div>text72</div>
    <div>text73</div>
    <div>text74</div>
    <div>text75</div>
    <div>text76</div>
    <div>text77</div>
    <div>text78</div>
    <div>text79</div>
    <div>text80</div>
    <div>text81</div>
    <div>text82</div>
    <div>text83</div>
    <div>text84</div>
    <div>text85</div>
    <div>text86</div>
    <div>text87</div>
    <div>text88</div>
    <div>text89</div>
    <div>text90</div>
    <div>text91</div>
    <div>text92</div>
    <div>text93</div>
    <div>text94</div>
    <div>text95</div>
    <div>text96</div>
    <div>text97</div>
    <div>text98</div>
    <div>text99</div>
    <div>text100</div>
    <div>test101</div>
    <div>test102</div>
    <div>test103</div>
    <div>test104</div>
    <div>test105</div>
    <div>test106</div>
    <div>test107</div>
    <div>test108</div>
    <div>test109</div>
    <div>test1010</div>
    <div>test1011</div>
    <div>test1012</div>
    <div>test1013</div>
    <div>test1014</div>
    <div>test1015</div>
    <div>test1016</div>
    <div>test1017</div>
    <div>test1018</div>
    <div>test1019</div>
    <div>test1020</div>
    <div>test1021</div>
    <div>test1022</div>
    <div>test1023</div>
    <div>test1024</div>
    <div>test1025</div>
    <div>test1026</div>
    <div>test1027</div>
    <div>test1028</div>
    <div>test1029</div>
    <div>test1030</div>
    <div>test1031</div>
    <div>test1032</div>
    <div>test1033</div>
    <div>test1034</div>
    <div>test1035</div>
    <div>test1036</div>
    <div>test1037</div>
    <div>test1038</div>
    <div>test1039</div>
    <div>test1040</div>
    <div>test1041</div>
    <div>test1042</div>
    <div>test1043</div>
    <div>test1044</div>
    <div>test1045</div>
    <div>test1046</div>
    <div>test1047</div>
    <div>test1048</div>
    <div>test1049</div>
    <div>test1050</div>
    <div>test1051</div>
    <div>test1052</div>
    <div>test1053</div>
    <div>test1054</div>
    <div>test1055</div>
    <div>test1056</div>
    <div>test1057</div>
    <div>test1058</div>
    <div>test1059</div>
    <div>test1060</div>
    <div>test1061</div>
    <div>test1062</div>
    <div>test1063</div>
    <div>test1064</div>
    <div>test1065</div>
    <div>test1066</div>
    <div>test1067</div>
    <div>test1068</div>
    <div>test1069</div>
    <div>test1070</div>
    <div>test1071</div>
    <div>test1072</div>
    <div>test1073</div>
    <div>test1074</div>
    <div>test1075</div>
    <div>test1076</div>
    <div>test1077</div>
    <div>test1078</div>
    <div>test1079</div>
    <div>test1080</div>
    <div>test1081</div>
    <div>test1082</div>
    <div>test1083</div>
    <div>test1084</div>
    <div>test1085</div>
    <div>test1086</div>
    <div>test1087</div>
    <div>test1088</div>
    <div>test1089</div>
    <div>test1090</div>
    <div>test1091</div>
    <div>test1092</div>
    <div>test1093</div>
    <div>test1094</div>
    <div>test1095</div>
    <div>test1096</div>
    <div>test1097</div>
    <div>test1098</div>
    <div>test1099</div>
    <div>test10100</div>
    <div>test10101</div>
    <div>test10102</div>
    <div>test10103</div>
    <div>test10104</div>
    <div>test10105</div>
    <div>test10106</div>
    <div>test10107</div>
    <div>test10108</div>
    <div>test10109</div>
    <div>test10110</div>
    <div>test10111</div>
    <div>test10112</div>
    <div>test10113</div>
    <div>test10114</div>
    <div>test10115</div>
    <div>test10116</div>
    <div>test10117</div>
    <div>test10118</div>
    <div>test10119</div>
    <div>test10120</div>
    <div>test10121</div>
    <div>test10122</div>
    <div>test10123</div>
    <div>test10124</div>
    <div>test10125</div>
    <div>test10126</div>
    <div>test10127</div>
    <div>test10128</div>
    <div>test10129</div>
    <div>test10130</div>
    <div>test10131</div>
    <div>test10132</div>
    <div>test10133</div>
    <div>test10134</div>
    <div>test10135</div>
    <div>test10136</div>
    <div>test10137</div>
    <div>test10138</div>
    <div>test10139</div>
    <div>test10140</div>
    <div>test10141</div>
    <div>test10142</div>
    <div>test10143</div>
    <div>test10144</div>
    <div>test10145</div>
    <div>test10146</div>
    <div>test10147</div>
    <div>test10148</div>
    <div>test10149</div>
    <div>test10150</div>
    <div>test10151</div>
    <div>test10152</div>
    <div>test10153</div>
    <div>test10154</div>
    <div>test10155</div>
    <div>test10156</div>
    <div>test10157</div>
    <div>test10158</div>
    <div>test10159</div>
    <div>test10160</div>
    <div>test10161</div>
    <div>test10162</div>
    <div>test10163</div>
    <div>test10164</div>
    <div>test10165</div>
    <div>test10166</div>
    <div>test10167</div>
    <div>test10168</div>
    <div>test10169</div>
    <div>test10170</div>
    <div>test10171</div>
    <div>test10172</div>
    <div>test10173</div>
    <div>test10174</div>
    <div>test10175</div>
    <div>test10176</div>
    <div>test10177</div>
    <div>test10178</div>
    <div>test10179</div>
    <div>test10180</div>
    <div>test10181</div>
    <div>test10182</div>
    <div>test10183</div>
    <div>test10184</div>
    <div>test10185</div>
    <div>test10186</div>
    <div>test10187</div>
    <div>test10188</div>
    <div>test10189</div>
    <div>test10190</div>
    <div>test10191</div>
    <div>test10192</div>
    <div>test10193</div>
    <div>test10194</div>
    <div>test10195</div>
    <div>test10196</div>
    <div>test10197</div>
    <div>test10198</div>
    <div>test10199</div>
    <div>test10200</div>
    <div>test10201</div>
    <div>test10202</div>
    <div>test10203</div>
    <div>test10204</div>
    <div>test10205</div>
    <div>test10206</div>
    <div>test10207</div>
    <div>test10208</div>
    <div>test10209</div>
    <div>test10210</div>
    <div>test10211</div>
    <div>test10212</div>
    <div>test10213</div>
    <div>test10214</div>
    <div>test10215</div>
    <div>test10216</div>
    <div>test10217</div>
    <div>test10218</div>
    <div>test10219</div>
    <div>test10220</div>
    <div>test10221</div>
    <div>test10222</div>
    <div>test10223</div>
    <div>test10224</div>
    <div>test10225</div>
    <div>test10226</div>
    <div>test10227</div>
    <div>test10228</div>
    <div>test10229</div>
    <div>test10230</div>
    <div>test10231</div>
    <div>test10232</div>
    <div>test10233</div>
    <div>test10234</div>
    <div>test10235</div>
    <div>test10236</div>
    <div>test10237</div>
    <div>test10238</div>
    <div>test10239</div>
    <div>test10240</div>
    <div>test10241</div>
    <div>test10242</div>
    <div>test10243</div>
    <div>test10244</div>
    <div>test10245</div>
    <div>test10246</div>
    <div>test10247</div>
    <div>test10248</div>
    <div>test10249</div>
    <div>test10250</div>
    <div>test10251</div>
    <div>test10252</div>
    <div>test10253</div>
    <div>test10254</div>
    <div>test10255</div>
    <div>test10256</div>
    <div>test10257</div>
    <div>test10258</div>
    <div>test10259</div>
    <div>test10260</div>
    <div>test10261</div>
    <div>test10262</div>
    <div>test10263</div>
    <div>test10264</div>
    <div>test10265</div>
    <div>test10266</div>
    <div>test10267</div>
    <div>test10268</div>
    <div>test10269</div>
    <div>test10270</div>
    <div>test10271</div>
    <div>test10272</div>
    <div>test10273</div>
    <div>test10274</div>
    <div>test10275</div>
    <div>test10276</div>
    <div>test10277</div>
    <div>test10278</div>
    <div>test10279</div>
    <div>test10280</div>
    <div>test10281</div>
    <div>test10282</div>
    <div>test10283</div>
    <div>test10284</div>
    <div>test10285</div>
    <div>test10286</div>
    <div>test10287</div>
    <div>test10288</div>
    <div>test10289</div>
    <div>test10290</div>
    <div>test10291</div>
    <div>test10292</div>
    <div>test10293</div>
    <div>test10294</div>
    <div>test10295</div>
    <div>test10296</div>
    <div>test10297</div>
    <div>test10298</div>
    <div>test10299</div>
    <div>test10300</div>
    <div>test111</div>
    <div>test112</div>
    <div>test113</div>
    <div>test114</div>
    <div>test115</div>
    <div>test116</div>
    <div>test117</div>
    <div>test118</div>
    <div>test119</div>
    <div>test1110</div>
    <div>test1111</div>
    <div>test1112</div>
    <div>test1113</div>
    <div>test1114</div>
    <div>test1115</div>
    <div>test1116</div>
    <div>test1117</div>
    <div>test1118</div>
    <div>test1119</div>
    <div>test1120</div>
    <div>test1121</div>
    <div>test1122</div>
    <div>test1123</div>
    <div>test1124</div>
    <div>test1125</div>
    <div>test1126</div>
    <div>test1127</div>
    <div>test1128</div>
    <div>test1129</div>
    <div>test1130</div>
    <div>test1131</div>
    <div>test1132</div>
    <div>test1133</div>
    <div>test1134</div>
    <div>test1135</div>
    <div>test1136</div>
    <div>test1137</div>
    <div>test1138</div>
    <div>test1139</div>
    <div>test1140</div>
    <div>test1141</div>
    <div>test1142</div>
    <div>test1143</div>
    <div>test1144</div>
    <div>test1145</div>
    <div>test1146</div>
    <div>test1147</div>
    <div>test1148</div>
    <div>test1149</div>
    <div>test1150</div>
    <div>test1151</div>
    <div>test1152</div>
    <div>test1153</div>
    <div>test1154</div>
    <div>test1155</div>
    <div>test1156</div>
    <div>test1157</div>
    <div>test1158</div>
    <div>test1159</div>
    <div>test1160</div>
    <div>test1161</div>
    <div>test1162</div>
    <div>test1163</div>
    <div>test1164</div>
    <div>test1165</div>
    <div>test1166</div>
    <div>test1167</div>
    <div>test1168</div>
    <div>test1169</div>
    <div>test1170</div>
    <div>test1171</div>
    <div>test1172</div>
    <div>test1173</div>
    <div>test1174</div>
    <div>test1175</div>
    <div>test1176</div>
    <div>test1177</div>
    <div>test1178</div>
    <div>test1179</div>
    <div>test1180</div>
    <div>test1181</div>
    <div>test1182</div>
    <div>test1183</div>
    <div>test1184</div>
    <div>test1185</div>
    <div>test1186</div>
    <div>test1187</div>
    <div>test1188</div>
    <div>test1189</div>
    <div>test1190</div>
    <div>test1191</div>
    <div>test1192</div>
    <div>test1193</div>
    <div>test1194</div>
    <div>test1195</div>
    <div>test1196</div>
    <div>test1197</div>
    <div>test1198</div>
    <div>test1199</div>
    <div>test11100</div>
    <div>test11101</div>
    <div>test11102</div>
    <div>test11103</div>
    <div>test11104</div>
    <div>test11105</div>
    <div>test11106</div>
    <div>test11107</div>
    <div>test11108</div>
    <div>test11109</div>
    <div>test11110</div>
    <div>test11111</div>
    <div>test11112</div>
    <div>test11113</div>
    <div>test11114</div>
    <div>test11115</div>
    <div>test11116</div>
    <div>test11117</div>
    <div>test11118</div>
    <div>test11119</div>
    <div>test11120</div>
    <div>test11121</div>
    <div>test11122</div>
    <div>test11123</div>
    <div>test11124</div>
    <div>test11125</div>
    <div>test11126</div>
    <div>test11127</div>
    <div>test11128</div>
    <div>test11129</div>
    <div>test11130</div>
    <div>test11131</div>
    <div>test11132</div>
    <div>test11133</div>
    <div>test11134</div>
    <div>test11135</div>
    <div>test11136</div>
    <div>test11137</div>
    <div>test11138</div>
    <div>test11139</div>
    <div>test11140</div>
    <div>test11141</div>
    <div>test11142</div>
    <div>test11143</div>
    <div>test11144</div>
    <div>test11145</div>
    <div>test11146</div>
    <div>test11147</div>
    <div>test11148</div>
    <div>test11149</div>
    <div>test11150</div>
    <div>test11151</div>
    <div>test11152</div>
    <div>test11153</div>
    <div>test11154</div>
    <div>test11155</div>
    <div>test11156</div>
    <div>test11157</div>
    <div>test11158</div>
    <div>test11159</div>
    <div>test11160</div>
    <div>test11161</div>
    <div>test11162</div>
    <div>test11163</div>
    <div>test11164</div>
    <div>test11165</div>
    <div>test11166</div>
    <div>test11167</div>
    <div>test11168</div>
    <div>test11169</div>
    <div>test11170</div>
    <div>test11171</div>
    <div>test11172</div>
    <div>test11173</div>
    <div>test11174</div>
    <div>test11175</div>
    <div>test11176</div>
    <div>test11177</div>
    <div>test11178</div>
    <div>test11179</div>
    <div>test11180</div>
    <div>test11181</div>
    <div>test11182</div>
    <div>test11183</div>
    <div>test11184</div>
    <div>test11185</div>
    <div>test11186</div>
    <div>test11187</div>
    <div>test11188</div>
    <div>test11189</div>
    <div>test11190</div>
    <div>test11191</div>
    <div>test11192</div>
    <div>test11193</div>
    <div>test11194</div>
    <div>test11195</div>
    <div>test11196</div>
    <div>test11197</div>
    <div>test11198</div>
    <div>test11199</div>
    <div>test11200</div>
    <div>test11201</div>
    <div>test11202</div>
    <div>test11203</div>
    <div>test11204</div>
    <div>test11205</div>
    <div>test11206</div>
    <div>test11207</div>
    <div>test11208</div>
    <div>test11209</div>
    <div>test11210</div>
    <div>test11211</div>
    <div>test11212</div>
    <div>test11213</div>
    <div>test11214</div>
    <div>test11215</div>
    <div>test11216</div>
    <div>test11217</div>
    <div>test11218</div>
    <div>test11219</div>
    <div>test11220</div>
    <div>test11221</div>
    <div>test11222</div>
    <div>test11223</div>
    <div>test11224</div>
    <div>test11225</div>
    <div>test11226</div>
    <div>test11227</div>
    <div>test11228</div>
    <div>test11229</div>
    <div>test11230</div>
    <div>test11231</div>
    <div>test11232</div>
    <div>test11233</div>
    <div>test11234</div>
    <div>test11235</div>
    <div>test11236</div>
    <div>test11237</div>
    <div>test11238</div>
    <div>test11239</div>
    <div>test11240</div>
    <div>test11241</div>
    <div>test11242</div>
    <div>test11243</div>
    <div>test11244</div>
    <div>test11245</div>
    <div>test11246</div>
    <div>test11247</div>
    <div>test11248</div>
    <div>test11249</div>
    <div>test11250</div>
    <div>test11251</div>
    <div>test11252</div>
    <div>test11253</div>
    <div>test11254</div>
    <div>test11255</div>
    <div>test11256</div>
    <div>test11257</div>
    <div>test11258</div>
    <div>test11259</div>
    <div>test11260</div>
    <div>test11261</div>
    <div>test11262</div>
    <div>test11263</div>
    <div>test11264</div>
    <div>test11265</div>
    <div>test11266</div>
    <div>test11267</div>
    <div>test11268</div>
    <div>test11269</div>
    <div>test11270</div>
    <div>test11271</div>
    <div>test11272</div>
    <div>test11273</div>
    <div>test11274</div>
    <div>test11275</div>
    <div>test11276</div>
    <div>test11277</div>
    <div>test11278</div>
    <div>test11279</div>
    <div>test11280</div>
    <div>test11281</div>
    <div>test11282</div>
    <div>test11283</div>
    <div>test11284</div>
    <div>test11285</div>
    <div>test11286</div>
    <div>test11287</div>
    <div>test11288</div>
    <div>test11289</div>
    <div>test11290</div>
    <div>test11291</div>
    <div>test11292</div>
    <div>test11293</div>
    <div>test11294</div>
    <div>test11295</div>
    <div>test11296</div>
    <div>test11297</div>
    <div>test11298</div>
    <div>test11299</div>
    <div>test11300</div>
    <div>test11301</div>
    <div>test11302</div>
    <div>test11303</div>
    <div>test11304</div>
    <div>test11305</div>
    <div>test11306</div>
    <div>test11307</div>
    <div>test11308</div>
    <div>test11309</div>
    <div>test11310</div>
    <div>test11311</div>
    <div>test11312</div>
    <div>test11313</div>
    <div>test11314</div>
    <div>test11315</div>
    <div>test11316</div>
    <div>test11317</div>
    <div>test11318</div>
    <div>test11319</div>
    <div>test11320</div>
    <div>test11321</div>
    <div>test11322</div>
    <div>test11323</div>
    <div>test11324</div>
    <div>test11325</div>
    <div>test11326</div>
    <div>test11327</div>
    <div>test11328</div>
    <div>test11329</div>
    <div>test11330</div>
    <div>test11331</div>
    <div>test11332</div>
    <div>test11333</div>
    <div>test11334</div>
    <div>test11335</div>
    <div>test11336</div>
    <div>test11337</div>
    <div>test11338</div>
    <div>test11339</div>
    <div>test11340</div>
    <div>test11341</div>
    <div>test11342</div>
    <div>test11343</div>
    <div>test11344</div>
    <div>test11345</div>
    <div>test11346</div>
    <div>test11347</div>
    <div>test11348</div>
    <div>test11349</div>
    <div>test11350</div>
    <div>test11351</div>
    <div>test11352</div>
    <div>test11353</div>
    <div>test11354</div>
    <div>test11355</div>
    <div>test11356</div>
    <div>test11357</div>
    <div>test11358</div>
    <div>test11359</div>
    <div>test11360</div>
    <div>test11361</div>
    <div>test11362</div>
    <div>test11363</div>
    <div>test11364</div>
    <div>test11365</div>
    <div>test11366</div>
    <div>test11367</div>
    <div>test11368</div>
    <div>test11369</div>
    <div>test11370</div>
    <div>test11371</div>
    <div>test11372</div>
    <div>test11373</div>
    <div>test11374</div>
    <div>test11375</div>
    <div>test11376</div>
    <div>test11377</div>
    <div>test11378</div>
    <div>test11379</div>
    <div>test11380</div>
    <div>test11381</div>
    <div>test11382</div>
    <div>test11383</div>
    <div>test11384</div>
    <div>test11385</div>
    <div>test11386</div>
    <div>test11387</div>
    <div>test11388</div>
    <div>test11389</div>
    <div>test11390</div>
    <div>test11391</div>
    <div>test11392</div>
    <div>test11393</div>
    <div>test11394</div>
    <div>test11395</div>
    <div>test11396</div>
    <div>test11397</div>
    <div>test11398</div>
    <div>test11399</div>
    <div>test11400</div>
    <div>test111</div>
    <div>test112</div>
    <div>test113</div>
    <div>test114</div>
    <div>test115</div>
    <div>test116</div>
    <div>test117</div>
    <div>test118</div>
    <div>test119</div>
    <div>test1110</div>
    <div>test1111</div>
    <div>test1112</div>
    <div>test1113</div>
    <div>test1114</div>
    <div>test1115</div>
    <div>test1116</div>
    <div>test1117</div>
    <div>test1118</div>
    <div>test1119</div>
    <div>test1120</div>
    <div>test1121</div>
    <div>test1122</div>
    <div>test1123</div>
    <div>test1124</div>
    <div>test1125</div>
    <div>test1126</div>
    <div>test1127</div>
    <div>test1128</div>
    <div>test1129</div>
    <div>test1130</div>
    <div>test1131</div>
    <div>test1132</div>
    <div>test1133</div>
    <div>test1134</div>
    <div>test1135</div>
    <div>test1136</div>
    <div>test1137</div>
    <div>test1138</div>
    <div>test1139</div>
    <div>test1140</div>
    <div>test1141</div>
    <div>test1142</div>
    <div>test1143</div>
    <div>test1144</div>
    <div>test1145</div>
    <div>test1146</div>
    <div>test1147</div>
    <div>test1148</div>
    <div>test1149</div>
    <div>test1150</div>
    <div>test1151</div>
    <div>test1152</div>
    <div>test1153</div>
    <div>test1154</div>
    <div>test1155</div>
    <div>test1156</div>
    <div>test1157</div>
    <div>test1158</div>
    <div>test1159</div>
    <div>test1160</div>
    <div>test1161</div>
    <div>test1162</div>
    <div>test1163</div>
    <div>test1164</div>
    <div>test1165</div>
    <div>test1166</div>
    <div>test1167</div>
    <div>test1168</div>
    <div>test1169</div>
    <div>test1170</div>
    <div>test1171</div>
    <div>test1172</div>
    <div>test1173</div>
    <div>test1174</div>
    <div>test1175</div>
    <div>test1176</div>
    <div>test1177</div>
    <div>test1178</div>
    <div>test1179</div>
    <div>test1180</div>
    <div>test1181</div>
    <div>test1182</div>
    <div>test1183</div>
    <div>test1184</div>
    <div>test1185</div>
    <div>test1186</div>
    <div>test1187</div>
    <div>test1188</div>
    <div>test1189</div>
    <div>test1190</div>
    <div>test1191</div>
    <div>test1192</div>
    <div>test1193</div>
    <div>test1194</div>
    <div>test1195</div>
    <div>test1196</div>
    <div>test1197</div>
    <div>test1198</div>
    <div>test1199</div>
    <div>test11100</div>
    <div>test11101</div>
    <div>test11102</div>
    <div>test11103</div>
    <div>test11104</div>
    <div>test11105</div>
    <div>test11106</div>
    <div>test11107</div>
    <div>test11108</div>
    <div>test11109</div>
    <div>test11110</div>
    <div>test11111</div>
    <div>test11112</div>
    <div>test11113</div>
    <div>test11114</div>
    <div>test11115</div>
    <div>test11116</div>
    <div>test11117</div>
    <div>test11118</div>
    <div>test11119</div>
    <div>test11120</div>
    <div>test11121</div>
    <div>test11122</div>
    <div>test11123</div>
    <div>test11124</div>
    <div>test11125</div>
    <div>test11126</div>
    <div>test11127</div>
    <div>test11128</div>
    <div>test11129</div>
    <div>test11130</div>
    <div>test11131</div>
    <div>test11132</div>
    <div>test11133</div>
    <div>test11134</div>
    <div class="test">test11135</div>
    <div>test11136</div>
    <div>test11137</div>
    <div>test11138</div>
    <div>test11139</div>
    <div>test11140</div>
    <div>test11141</div>
    <div>test11142</div>
    <div>test11143</div>
    <div>test11144</div>
    <div>test11145</div>
    <div>test11146</div>
    <div>test11147</div>
    <div>test11148</div>
    <div>test11149</div>
    <div>test11150</div>
    <div>test11151</div>
    <div>test11152</div>
    <div>test11153</div>
    <div>test11154</div>
    <div>test11155</div>
    <div>test11156</div>
    <div>test11157</div>
    <div>test11158</div>
    <div>test11159</div>
    <div>test11160</div>
    <div>test11161</div>
    <div>test11162</div>
    <div>test11163</div>
    <div>test11164</div>
    <div>test11165</div>
    <div>test11166</div>
    <div>test11167</div>
    <div>test11168</div>
    <div>test11169</div>
    <div>test11170</div>
    <div>test11171</div>
    <div>test11172</div>
    <div>test11173</div>
    <div>test11174</div>
    <div>test11175</div>
    <div>test11176</div>
    <div>test11177</div>
    <div>test11178</div>
    <div>test11179</div>
    <div>test11180</div>
    <div>test11181</div>
    <div>test11182</div>
    <div class="test">test11183</div>
    <div>test11184</div>
    <div>test11185</div>
    <div>test11186</div>
    <div>test11187</div>
    <div>test11188</div>
    <div>test11189</div>
    <div>test11190</div>
    <div>test11191</div>
    <div>test11192</div>
    <div>test11193</div>
    <div>test11194</div>
    <div>test11195</div>
    <div>test11196</div>
    <div>test11197</div>
    <div>test11198</div>
    <div>test11199</div>
    <div>test11200</div>
    <div>test11201</div>
    <div>test11202</div>
    <div>test11203</div>
    <div>test11204</div>
    <div>test11205</div>
    <div>test11206</div>
    <div>test11207</div>
    <div class="test">test11208</div>
    <div>test11209</div>
    <div>test11210</div>
    <div>test11211</div>
    <div>test11212</div>
    <div>test11213</div>
    <div>test11214</div>
    <div>test11215</div>
    <div>test11216</div>
    <div>test11217</div>
    <div>test11218</div>
    <div>test11219</div>
    <div>test11220</div>
    <div>test11221</div>
    <div>test11222</div>
    <div>test11223</div>
    <div>test11224</div>
    <div>test11225</div>
    <div>test11226</div>
    <div>test11227</div>
    <div>test11228</div>
    <div>test11229</div>
    <div>test11230</div>
    <div>test11231</div>
    <div>test11232</div>
    <div>test11233</div>
    <div>test11234</div>
    <div>test11235</div>
    <div>test11236</div>
    <div>test11237</div>
    <div>test11238</div>
    <div>test11239</div>
    <div>test11240</div>
    <div>test11241</div>
    <div>test11242</div>
    <div>test11243</div>
    <div>test11244</div>
    <div>test11245</div>
    <div>test11246</div>
    <div>test11247</div>
    <div>test11248</div>
    <div>test11249</div>
    <div>test11250</div>
    <div>test11251</div>
    <div>test11252</div>
    <div>test11253</div>
    <div>test11254</div>
    <div>test11255</div>
    <div>test11256</div>
    <div>test11257</div>
    <div>test11258</div>
    <div>test11259</div>
    <div>test11260</div>
    <div>test11261</div>
    <div>test11262</div>
    <div>test11263</div>
    <div>test11264</div>
    <div>test11265</div>
    <div>test11266</div>
    <div>test11267</div>
    <div>test11268</div>
    <div>test11269</div>
    <div>test11270</div>
    <div>test11271</div>
    <div>test11272</div>
    <div>test11273</div>
    <div>test11274</div>
    <div>test11275</div>
    <div>test11276</div>
    <div>test11277</div>
    <div>test11278</div>
    <div>test11279</div>
    <div>test11280</div>
    <div>test11281</div>
    <div>test11282</div>
    <div>test11283</div>
    <div>test11284</div>
    <div>test11285</div>
    <div>test11286</div>
    <div>test11287</div>
    <div>test11288</div>
    <div>test11289</div>
    <div>test11290</div>
    <div>test11291</div>
    <div>test11292</div>
    <div>test11293</div>
    <div>test11294</div>
    <div>test11295</div>
    <div>test11296</div>
    <div>test11297</div>
    <div>test11298</div>
    <div>test11299</div>
    <div>test11300</div>
    <div>test11301</div>
    <div>test11302</div>
    <div>test11303</div>
    <div>test11304</div>
    <div>test11305</div>
    <div>test11306</div>
    <div>test11307</div>
    <div>test11308</div>
    <div>test11309</div>
    <div>test11310</div>
    <div>test11311</div>
    <div>test11312</div>
    <div>test11313</div>
    <div>test11314</div>
    <div>test11315</div>
    <div>test11316</div>
    <div>test11317</div>
    <div>test11318</div>
    <div>test11319</div>
    <div>test11320</div>
    <div>test11321</div>
    <div>test11322</div>
    <div>test11323</div>
    <div>test11324</div>
    <div>test11325</div>
    <div>test11326</div>
    <div>test11327</div>
    <div>test11328</div>
    <div>test11329</div>
    <div>test11330</div>
    <div>test11331</div>
    <div>test11332</div>
    <div>test11333</div>
    <div>test11334</div>
    <div>test11335</div>
    <div>test11336</div>
    <div>test11337</div>
    <div>test11338</div>
    <div>test11339</div>
    <div>test11340</div>
    <div>test11341</div>
    <div>test11342</div>
    <div>test11343</div>
    <div>test11344</div>
    <div>test11345</div>
    <div>test11346</div>
    <div>test11347</div>
    <div>test11348</div>
    <div>test11349</div>
    <div>test11350</div>
    <div>test11351</div>
    <div>test11352</div>
    <div>test11353</div>
    <div>test11354</div>
    <div>test11355</div>
    <div>test11356</div>
    <div>test11357</div>
    <div>test11358</div>
    <div>test11359</div>
    <div>test11360</div>
    <div>test11361</div>
    <div>test11362</div>
    <div>test11363</div>
    <div>test11364</div>
    <div>test11365</div>
    <div>test11366</div>
    <div>test11367</div>
    <div>test11368</div>
    <div>test11369</div>
    <div>test11370</div>
    <div>test11371</div>
    <div>test11372</div>
    <div>test11373</div>
    <div>test11374</div>
    <div>test11375</div>
    <div>test11376</div>
    <div>test11377</div>
    <div>test11378</div>
    <div>test11379</div>
    <div>test11380</div>
    <div>test11381</div>
    <div>test11382</div>
    <div class="test">test11383</div>
    <div>test11384</div>
    <div>test11385</div>
    <div>test11386</div>
    <div>test11387</div>
    <div>test11388</div>
    <div>test11389</div>
    <div>test11390</div>
    <div>test11391</div>
    <div>test11392</div>
    <div>test11393</div>
    <div>test11394</div>
    <div>test11395</div>
    <div>test11396</div>
    <div>test11397</div>
    <div>test11398</div>
    <div>test11399</div>
    <div>test11400</div>
</virtual-scroll>

<script>
    class VirtualScroll extends HTMLElement {
        constructor() {
            super();
            this.itemsMap = [];
            this.visibleItems = new Set();
            this.itemHeights = [];
            this.bufferSize = 10; // Количество элементов для буфера (выше и ниже области просмотра)
            this.attachShadow({ mode: 'open' });
            this.shadowRoot.innerHTML = `
            <style>
                :host {
                    display: block;
                    overflow-y: auto;
                    position: relative;
                    height: 100%;
                }
                .content {
                    position: relative;
                }
                .placeholder {
                    height: 1px;
                    visibility: hidden;
                }
            </style>
            <div class="content"></div>
            <div class="bottom-placeholder placeholder"></div>
        `;
        }

        connectedCallback() {
            this.style.height = this.getAttribute('height') || '500px';
            this.indexItems();
            this.updateVisibleItems();
            this.attachScrollListener();
        }

        indexItems() {
            const children = Array.from(this.children);
            this.itemsMap = children.map(child => child.cloneNode(true)); // Сохраняем оригинал
            this.itemHeights = new Array(children.length).fill(0); // Инициализация высот

            // Placeholder для общего высоты
            this.updatePlaceholderHeight();
        }

        updatePlaceholderHeight() {
            const totalHeight = this.itemHeights.reduce((sum, height) => sum + height, 0);
            this.shadowRoot.querySelector('.bottom-placeholder').style.height = `${totalHeight}px`;
        }

        attachScrollListener() {
            this.addEventListener('scroll', () => {
                this.updateVisibleItems();
            });
        }

        updateVisibleItems() {
            const scrollTop = this.scrollTop;
            const clientHeight = this.clientHeight;
            const startIndex = this.getStartIndex(scrollTop);
            const endIndex = this.getEndIndex(scrollTop + clientHeight);

            // Удаляем элементы, которые больше не видны
            this.removeInvisibleItems(startIndex, endIndex);

            // Добавляем элементы, которые теперь должны быть видны
            this.renderVisibleItems(startIndex, endIndex);
        }

        getStartIndex(scrollTop) {
            let totalHeight = 0;
            for (let i = 0; i < this.itemHeights.length; i++) {
                totalHeight += this.getItemHeight(i);
                if (totalHeight > scrollTop) {
                    return i;
                }
            }
            return this.itemHeights.length - 1; // Возвращаем последний индекс, если ничего не найдено
        }

        getEndIndex(scrollTop) {
            let totalHeight = 0;
            for (let i = 0; i < this.itemHeights.length; i++) {
                totalHeight += this.getItemHeight(i);
                if (totalHeight > scrollTop) {
                    return i + Math.ceil(this.clientHeight / Math.min(...this.itemHeights.filter(h => h > 0))) + this.bufferSize;
                }
            }
            return this.itemHeights.length - 1; // Возвращаем последний индекс
        }

        removeInvisibleItems(startIndex, endIndex) {
            for (let i of Array.from(this.visibleItems)) {
                if (i < startIndex || i >= endIndex) {
                    this.visibleItems.delete(i);
                    const item = this.shadowRoot.querySelector(`[data-index="${i}"]`);
                    if (item) {
                        this.shadowRoot.querySelector('.content').removeChild(item);
                    }
                }
            }
        }

        renderVisibleItems(startIndex, endIndex) {
            const content = this.shadowRoot.querySelector('.content');
            const fragment = document.createDocumentFragment(); // Используем DocumentFragment для оптимизации

            for (let i = startIndex; i < endIndex; i++) {
                if (!this.visibleItems.has(i)) {
                    this.visibleItems.add(i);

                    // Создаем визуализируемый элемент
                    const item = this.itemsMap[i].cloneNode(true);
                    item.style.position = 'absolute';
                    item.style.top = `${this.getAccumulatedHeight(i)}px`; // Учитываем высоты всех предыдущих элементов
                    item.style.width = '100%';
                    item.setAttribute('data-index', i);
                    fragment.appendChild(item); // Добавляем элемент во фрагмент
                }
            }
            content.appendChild(fragment); // Добавляем все элементы за один раз
        }

        getAccumulatedHeight(index) {
            // Возвращает общую высоту всех предыдущих элементов
            return this.itemHeights.slice(0, index).reduce((sum, height) => sum + height, 0);
        }

        // Метод для получения высоты элемента, если она еще не вычислена
        getItemHeight(index) {
            if (this.itemHeights[index] === 0) {
                const tempElement = this.itemsMap[index].cloneNode(true);
                tempElement.style.position = 'absolute';
                tempElement.style.visibility = 'hidden';
                document.body.appendChild(tempElement);
                const height = tempElement.offsetHeight;
                this.itemHeights[index] = height; // Сохраняем высоту для дальнейшего использования
                document.body.removeChild(tempElement);
            }
            return this.itemHeights[index];
        }
    }

    customElements.define('virtual-scroll', VirtualScroll);
</script>
</body>
</html>